
<%include ./partials/header.ejs%>
<div class="w-full min-h-screen bg-zinc-800 text-white"> 
    <form id="uploadform" hidden action="/fileupload" method="post" enctype="multipart/form-data"> 
        <input type="file" id="fileInput" name="image" style="display: none;"> 
        <!-- <input type="submit"> -->
    </form> 

    <div class="profdets flex  flex-col items-center  justify-center">
        <div class="relative">
            <span id="uploadicon" class="w-10 h-10 absolute bottom-0 right-0 rounded-full flex items-center justify-center bg-zinc-200 cursor-pointer">
                <i class="text-zinc-800 ri-pencil-fill"></i>
            </span>

            <div class="w-32 h-32 mt-5 bg-zinc-200 rounded-full overflow-hidden">
                <img class="w-full h-full object-cover object-fit"
                    src="/images/uploads/<%=user.profileImage%>"
                    alt="">
            </div>
        </div>
        <h1 class="text-3xl font-semibold mt-4 mb-2 "><%=user.fullname%></h1> 

        <h3 class="text-xs mb-4 ">@<%=user.username%></h3> 

        <a href="/edit" class="px-7 w-fit py-2 bg-zinc-700 rounded-full text-xs font-semibold">Edit</a> 
        <div class="flex gap-5 items-center justify-center mt-5"> 

            <a href="/add" class="px-10 py-2 bg-red-600 rounded-md mt-2 text-xs font-semibold">Add New Post</a> 
        </div>
    </div>
    <div class="cards flex flex-wrap gap-10 px-10  mt-10">  
 

    <div class="card">
        <div class="w-52 h-40 bg-zinc-200 rounded-lg overflow-hidden">
            <img class="w-full h-full object-cover"
            src="/images/uploads/<%=user?.posts[0]?.image%>"
            alt="">
        </div>
        <a href="/show/posts" class="text-xl inline-block font-semibold mt-2">Uploaded pins</a> 
        <h5 class="font-light"><%=user.posts.length%></h5>
    </div>  
         
  
    
    
            
    </div>
</div> 
<script> 
document.querySelector("#uploadicon").addEventListener("click", function(event){
    event.stopPropagation(); 
    document.querySelector("#fileInput").click();
});
document.querySelector("#fileInput").addEventListener("change", function(){
    document.querySelector("#uploadform").submit();
});
</script>

<%include ./partials/footer.ejs%>
